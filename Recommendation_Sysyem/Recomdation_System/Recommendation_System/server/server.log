2024-07-03 08:43:00,354 - root - INFO - Server started on localhost:12346
2024-07-03 08:43:11,969 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:43:11,971 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:43:14,471 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 08:43:14,471 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 08:43:14,471 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 08:43:47,741 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 08:43:47,741 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 08:43:48,885 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 08:43:48,888 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 08:43:48,888 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 08:43:59,421 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 08:43:59,421 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 08:43:59,421 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 08:45:18,660 - root - INFO - Server started on localhost:12346
2024-07-03 08:45:34,119 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:45:34,141 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:45:45,584 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:45:45,599 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:45:48,775 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 08:45:48,775 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 08:45:48,775 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 08:45:56,741 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 08:45:56,741 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 08:45:56,741 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 08:53:29,839 - root - INFO - Server started on localhost:12346
2024-07-03 08:53:37,522 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 08:53:37,522 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 08:53:38,890 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 08:53:38,890 - root - ERROR - Error: name 'logging' is not defined
2024-07-03 08:54:27,990 - root - INFO - Server started on localhost:12346
2024-07-03 08:54:35,140 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 08:54:35,156 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 08:54:36,355 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 08:54:36,356 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 08:54:36,356 - root - DEBUG - Sending response: {"status": "success", "notifications": []}
2024-07-03 08:54:46,674 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:54:46,674 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:54:51,696 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:55:31,800 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:55:31,802 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:55:36,808 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:55:47,845 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:56:11,190 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:56:11,190 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:56:16,206 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:56:41,673 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:56:41,684 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:56:46,674 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:57:03,124 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 08:57:03,125 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 08:57:08,141 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:57:48,389 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 08:57:48,389 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 08:57:53,023 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 08:57:53,023 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 08:57:53,023 - root - DEBUG - Sending response: {"status": "success", "notifications": []}
2024-07-03 08:59:41,651 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 08:59:57,475 - root - INFO - Server started on localhost:12346
2024-07-03 09:00:15,959 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 09:00:15,974 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 09:00:30,391 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 2, 5], "user_id": 2, "role": 2}
2024-07-03 09:00:30,391 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 09:00:30,391 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 09:00:30.391729
2024-07-03 09:00:30,408 - root - DEBUG - Fetched price for menu_item_id 2: 6.50
2024-07-03 09:00:30,412 - root - DEBUG - Inserted rollout item: 2 by user: 2 with price: 6.50 at 2024-07-03 09:00:30.391729
2024-07-03 09:00:30,414 - root - DEBUG - Fetched price for menu_item_id 5: 9.00
2024-07-03 09:00:30,418 - root - DEBUG - Inserted rollout item: 5 by user: 2 with price: 9.00 at 2024-07-03 09:00:30.391729
2024-07-03 09:00:30,421 - root - DEBUG - Inserting notification for employee 3
2024-07-03 09:00:30,423 - root - DEBUG - Inserting notification for employee 4
2024-07-03 09:00:30,427 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 09:00:46,608 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 3, 4], "user_id": 2, "role": 2}
2024-07-03 09:00:46,608 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 09:00:46,626 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 09:00:46.608435
2024-07-03 09:00:46,627 - root - DEBUG - Fetched price for menu_item_id 3: 15.00
2024-07-03 09:00:46,631 - root - DEBUG - Inserted rollout item: 3 by user: 2 with price: 15.00 at 2024-07-03 09:00:46.608435
2024-07-03 09:00:46,633 - root - DEBUG - Fetched price for menu_item_id 4: 8.00
2024-07-03 09:00:46,638 - root - DEBUG - Inserted rollout item: 4 by user: 2 with price: 8.00 at 2024-07-03 09:00:46.608435
2024-07-03 09:00:46,639 - root - DEBUG - Inserting notification for employee 3
2024-07-03 09:00:46,640 - root - DEBUG - Inserting notification for employee 4
2024-07-03 09:00:46,644 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 09:01:07,361 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 09:01:07,361 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 09:01:09,175 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 09:01:09,175 - root - DEBUG - Fetched notifications for user 3: [{'id': 15, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}, {'id': 17, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 09:01:09,199 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 09:01:09,199 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 15, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}, {"id": 17, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}]}
2024-07-03 09:01:19,160 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 09:01:19,160 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 09:01:19,160 - root - DEBUG - Sending response: {"status": "success", "notifications": []}
2024-07-03 09:03:24,010 - root - INFO - Server started on localhost:12346
2024-07-03 09:03:47,111 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 09:03:47,111 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 09:03:52,593 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [2, 4, 5], "user_id": 2, "role": 2}
2024-07-03 09:03:52,610 - root - DEBUG - Fetched price for menu_item_id 2: 6.50
2024-07-03 09:03:52,610 - root - DEBUG - Inserted rollout item: 2 by user: 2 with price: 6.50 at 2024-07-03 09:03:52.593400
2024-07-03 09:03:52,610 - root - DEBUG - Fetched price for menu_item_id 4: 8.00
2024-07-03 09:03:52,627 - root - DEBUG - Inserted rollout item: 4 by user: 2 with price: 8.00 at 2024-07-03 09:03:52.593400
2024-07-03 09:03:52,628 - root - DEBUG - Fetched price for menu_item_id 5: 9.00
2024-07-03 09:03:52,633 - root - DEBUG - Inserted rollout item: 5 by user: 2 with price: 9.00 at 2024-07-03 09:03:52.593400
2024-07-03 09:03:52,634 - root - DEBUG - Inserting notification for employee 3
2024-07-03 09:03:52,638 - root - DEBUG - Inserting notification for employee 4
2024-07-03 09:03:52,641 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 09:04:21,828 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 09:04:21,828 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 09:04:23,659 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 09:04:23,661 - root - DEBUG - Fetched notifications for user 3: [{'id': 19, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 09:04:23,661 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 09:04:23,671 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 3, 53)}, {'menu_item_id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 3, 53)}, {'menu_item_id': 5, 'name': 'Tacos', 'price': Decimal('9.00'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 3, 53)}]
2024-07-03 09:04:23,672 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 19, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 2, "name": "Grilled Cheese", "price": "6.50", "timestamp": "2024-07-03T09:03:53"}, {"menu_item_id": 4, "name": "Caesar Salad", "price": "8.00", "timestamp": "2024-07-03T09:03:53"}, {"menu_item_id": 5, "name": "Tacos", "price": "9.00", "timestamp": "2024-07-03T09:03:53"}]}
2024-07-03 09:06:02,109 - root - INFO - Server started on localhost:12346
2024-07-03 09:06:08,360 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 09:06:08,376 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 09:06:13,361 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 09:06:17,927 - root - DEBUG - Received request: {"action": "login", "employee_id": "", "password": ""}
2024-07-03 09:06:17,928 - root - DEBUG - Sending response: {"status": "error", "message": "Invalid credentials"}
2024-07-03 09:06:35,776 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 09:06:35,776 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 09:07:17,059 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 09:07:17,059 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 09:07:24,794 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [2, 5, 6], "user_id": 2, "role": 2}
2024-07-03 09:07:24,794 - root - DEBUG - Fetched price for menu_item_id 2: 6.50
2024-07-03 09:07:24,807 - root - DEBUG - Inserted rollout item: 2 by user: 2 with price: 6.50 at 2024-07-03 09:07:24.794072
2024-07-03 09:07:24,807 - root - DEBUG - Fetched price for menu_item_id 5: 9.00
2024-07-03 09:07:24,812 - root - DEBUG - Inserted rollout item: 5 by user: 2 with price: 9.00 at 2024-07-03 09:07:24.794072
2024-07-03 09:07:24,813 - root - DEBUG - Fetched price for menu_item_id 6: 13.50
2024-07-03 09:07:24,818 - root - DEBUG - Inserted rollout item: 6 by user: 2 with price: 13.50 at 2024-07-03 09:07:24.794072
2024-07-03 09:07:24,820 - root - DEBUG - Inserting notification for employee 3
2024-07-03 09:07:24,823 - root - DEBUG - Inserting notification for employee 4
2024-07-03 09:07:24,827 - root - ERROR - Error sending notification to client: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 09:07:24,828 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 09:07:44,310 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 09:07:44,311 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 09:07:46,643 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 09:07:46,643 - root - DEBUG - Fetched notifications for user 3: [{'id': 21, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 09:07:46,643 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 09:07:46,661 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 7, 25)}, {'menu_item_id': 5, 'name': 'Tacos', 'price': Decimal('9.00'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 7, 25)}, {'menu_item_id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 7, 25)}]
2024-07-03 09:07:46,662 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 21, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 2, "name": "Grilled Cheese", "price": "6.50", "timestamp": "2024-07-03T09:07:25"}, {"menu_item_id": 5, "name": "Tacos", "price": "9.00", "timestamp": "2024-07-03T09:07:25"}, {"menu_item_id": 6, "name": "Fries", "price": "13.50", "timestamp": "2024-07-03T09:07:25"}]}
2024-07-03 09:09:34,493 - root - INFO - Server started on localhost:12346
2024-07-03 09:09:45,277 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 09:09:45,277 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 09:09:49,129 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 09:10:08,409 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 09:10:08,427 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 09:10:14,094 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 5, 6], "user_id": 2, "role": 2}
2024-07-03 09:10:14,094 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 09:10:14,106 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 09:10:14.094115
2024-07-03 09:10:14,107 - root - DEBUG - Fetched price for menu_item_id 5: 9.00
2024-07-03 09:10:14,114 - root - DEBUG - Inserted rollout item: 5 by user: 2 with price: 9.00 at 2024-07-03 09:10:14.094115
2024-07-03 09:10:14,115 - root - DEBUG - Fetched price for menu_item_id 6: 13.50
2024-07-03 09:10:14,121 - root - DEBUG - Inserted rollout item: 6 by user: 2 with price: 13.50 at 2024-07-03 09:10:14.094115
2024-07-03 09:10:14,123 - root - DEBUG - Inserting notification for employee 3
2024-07-03 09:10:14,126 - root - DEBUG - Inserting notification for employee 4
2024-07-03 09:10:14,131 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 09:10:34,443 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 09:10:34,443 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 09:10:35,976 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 09:10:35,976 - root - DEBUG - Fetched notifications for user 3: [{'id': 23, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 09:10:35,976 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 09:10:35,986 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 10, 14)}, {'menu_item_id': 5, 'name': 'Tacos', 'price': Decimal('9.00'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 10, 14)}, {'menu_item_id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'timestamp': datetime.datetime(2024, 7, 3, 9, 10, 14)}]
2024-07-03 09:10:35,987 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 23, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 1, "name": "Spaghetti", "price": "12.00", "timestamp": "2024-07-03T09:10:14"}, {"menu_item_id": 5, "name": "Tacos", "price": "9.00", "timestamp": "2024-07-03T09:10:14"}, {"menu_item_id": 6, "name": "Fries", "price": "13.50", "timestamp": "2024-07-03T09:10:14"}]}
2024-07-03 10:00:59,364 - root - INFO - Server started on localhost:12346
2024-07-03 10:01:09,281 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 10:01:09,281 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 10:01:18,331 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:01:18,331 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 10:01:23,200 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 10:01:44,948 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:01:44,948 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 10:01:49,747 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 2, 3], "user_id": 2, "role": 2}
2024-07-03 10:01:49,747 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 10:01:49,766 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 10:01:49.747974
2024-07-03 10:01:49,767 - root - DEBUG - Fetched price for menu_item_id 2: 6.50
2024-07-03 10:01:49,770 - root - DEBUG - Inserted rollout item: 2 by user: 2 with price: 6.50 at 2024-07-03 10:01:49.747974
2024-07-03 10:01:49,771 - root - DEBUG - Fetched price for menu_item_id 3: 15.00
2024-07-03 10:01:49,776 - root - DEBUG - Inserted rollout item: 3 by user: 2 with price: 15.00 at 2024-07-03 10:01:49.747974
2024-07-03 10:01:49,777 - root - DEBUG - Inserting notification for employee 3
2024-07-03 10:01:49,780 - root - DEBUG - Inserting notification for employee 4
2024-07-03 10:01:49,784 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 10:01:55,014 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 10:01:55,014 - root - DEBUG - Fetched notifications for user 3: [{'id': 25, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 10:01:55,014 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 10:01:55,029 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'timestamp': datetime.datetime(2024, 7, 3, 10, 1, 50)}, {'menu_item_id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'timestamp': datetime.datetime(2024, 7, 3, 10, 1, 50)}, {'menu_item_id': 3, 'name': 'Chicken Alfredo', 'price': Decimal('15.00'), 'timestamp': datetime.datetime(2024, 7, 3, 10, 1, 50)}]
2024-07-03 10:01:55,030 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 25, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 1, "name": "Spaghetti", "price": "12.00", "timestamp": "2024-07-03T10:01:50"}, {"menu_item_id": 2, "name": "Grilled Cheese", "price": "6.50", "timestamp": "2024-07-03T10:01:50"}, {"menu_item_id": 3, "name": "Chicken Alfredo", "price": "15.00", "timestamp": "2024-07-03T10:01:50"}]}
2024-07-03 10:02:03,814 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 10:02:03,814 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 10:02:03,814 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 10:02:08,555 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 10:02:08,557 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 10:02:08,558 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 10:02:29,881 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 10:02:29,881 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 10:02:29,881 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 10:11:56,769 - root - INFO - Server started on localhost:12346
2024-07-03 10:12:21,767 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:12:21,767 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 10:12:24,734 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 10:12:24,734 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 10:12:24,734 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 10:12:42,669 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 10:12:42,672 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 10:13:10,584 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "not tasty ", "item_id": 3, "role": 3}
2024-07-03 10:13:10,599 - root - ERROR - Error in submit_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 10:13:10,599 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to submit feedback"}
2024-07-03 10:13:16,820 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 10:13:16,820 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 10:13:16,820 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 10:13:27,351 - root - DEBUG - Received request: {"action": "get_recommendations", "role": 2}
2024-07-03 10:13:27,366 - root - DEBUG - Executing query: 
                SELECT mi.id, mi.name, mi.price, mi.average_rating, 
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'positive') as positive_feedback,
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'negative') as negative_feedback
                FROM menu_items mi
                ORDER BY mi.average_rating DESC, positive_feedback DESC, negative_feedback ASC
                LIMIT 5
            
2024-07-03 10:13:27,366 - root - DEBUG - Recommendations fetched: [{'id': 7, 'name': 'Veggie Burger', 'price': Decimal('10.00'), 'average_rating': Decimal('4.50'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'average_rating': Decimal('4.20'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'average_rating': Decimal('3.50'), 'positive_feedback': 0, 'negative_feedback': 2}, {'id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'average_rating': Decimal('2.70'), 'positive_feedback': 0, 'negative_feedback': 1}, {'id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'average_rating': Decimal('2.50'), 'positive_feedback': 1, 'negative_feedback': 0}]
2024-07-03 10:13:27,366 - root - DEBUG - Sending response: {"status": "success", "recommendations": [{"id": 7, "name": "Veggie Burger", "price": "10.00", "average_rating": "4.50", "positive_feedback": 0, "negative_feedback": 0}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "average_rating": "4.20", "positive_feedback": 0, "negative_feedback": 0}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "average_rating": "3.50", "positive_feedback": 0, "negative_feedback": 2}, {"id": 6, "name": "Fries", "price": "13.50", "average_rating": "2.70", "positive_feedback": 0, "negative_feedback": 1}, {"id": 1, "name": "Spaghetti", "price": "12.00", "average_rating": "2.50", "positive_feedback": 1, "negative_feedback": 0}]}
2024-07-03 10:14:06,234 - root - DEBUG - Received request: {"action": "view_vote_counts"}
2024-07-03 10:14:06,234 - root - DEBUG - Executing query: 
                SELECT mi.name, v.meal_type, COUNT(v.id) as vote_count
                FROM votes v
                JOIN menu_items mi ON v.menu_item_id = mi.id
                JOIN rollout_items ri ON ri.menu_item_id = mi.id
                WHERE DATE(v.voted_at) = %s AND DATE(ri.timestamp) = %s AND ri.chosen = TRUE
                GROUP BY mi.name, v.meal_type
             with date 2024-07-03
2024-07-03 10:14:06,234 - root - DEBUG - Vote counts fetched: []
2024-07-03 10:14:06,234 - root - DEBUG - Sending response: {"status": "success", "vote_counts": []}
2024-07-03 10:14:24,798 - root - DEBUG - Received request: {"action": "vote_for_menu_item", "dish_id": 1, "meal_type": "breakfast", "user_id": 3, "role": 3}
2024-07-03 10:14:24,819 - root - DEBUG - Sending response: {"status": "success", "message": "Vote submitted"}
2024-07-03 10:14:30,119 - root - DEBUG - Received request: {"action": "view_vote_counts"}
2024-07-03 10:14:30,119 - root - DEBUG - Executing query: 
                SELECT mi.name, v.meal_type, COUNT(v.id) as vote_count
                FROM votes v
                JOIN menu_items mi ON v.menu_item_id = mi.id
                JOIN rollout_items ri ON ri.menu_item_id = mi.id
                WHERE DATE(v.voted_at) = %s AND DATE(ri.timestamp) = %s AND ri.chosen = TRUE
                GROUP BY mi.name, v.meal_type
             with date 2024-07-03
2024-07-03 10:14:30,119 - root - DEBUG - Vote counts fetched: [{'name': 'Spaghetti', 'meal_type': 'breakfast', 'vote_count': 5}]
2024-07-03 10:14:30,119 - root - DEBUG - Sending response: {"status": "success", "vote_counts": [{"name": "Spaghetti", "meal_type": "breakfast", "vote_count": 5}]}
2024-07-03 10:26:34,622 - root - INFO - Server started on localhost:12346
2024-07-03 10:26:42,459 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:26:42,459 - root - ERROR - Error: 'FeedbackService' object has no attribute 'send_report'
2024-07-03 10:26:49,101 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:26:49,102 - root - ERROR - Error: 'FeedbackService' object has no attribute 'send_report'
2024-07-03 10:28:53,234 - root - INFO - Server started on localhost:12346
2024-07-03 10:28:58,270 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:28:58,278 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 10:29:02,334 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 10:29:20,004 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 10:29:20,006 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 10:29:24,221 - root - DEBUG - Received request: {"action": "view_vote_counts"}
2024-07-03 10:29:24,222 - root - DEBUG - Executing query: 
                SELECT mi.name, v.meal_type, COUNT(v.id) as vote_count
                FROM votes v
                JOIN menu_items mi ON v.menu_item_id = mi.id
                JOIN rollout_items ri ON ri.menu_item_id = mi.id
                WHERE DATE(v.voted_at) = %s AND DATE(ri.timestamp) = %s AND ri.chosen = TRUE
                GROUP BY mi.name, v.meal_type
             with date 2024-07-03
2024-07-03 10:29:24,228 - root - DEBUG - Vote counts fetched: [{'name': 'Spaghetti', 'meal_type': 'breakfast', 'vote_count': 5}]
2024-07-03 10:29:24,230 - root - DEBUG - Sending response: {"status": "success", "vote_counts": [{"name": "Spaghetti", "meal_type": "breakfast", "vote_count": 5}]}
2024-07-03 10:29:44,968 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 10:29:44,973 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}]
2024-07-03 10:29:44,974 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}]}
2024-07-03 10:30:10,272 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 10:30:10,274 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 10:30:16,492 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 10:30:16,495 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 10:30:16,495 - root - ERROR - Error in view_notifications: 'role'
2024-07-03 10:30:16,496 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to retrieve notifications"}
2024-07-03 10:30:23,081 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3}
2024-07-03 10:30:23,083 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 10:30:23,083 - root - ERROR - Error in view_notifications: 'role'
2024-07-03 10:30:23,084 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to retrieve notifications"}
2024-07-03 10:34:50,086 - root - INFO - Server started on localhost:12346
2024-07-03 10:35:20,022 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 10:35:20,028 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 10:35:21,939 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 10:35:21,943 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 10:35:21,944 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 10:39:45,871 - root - DEBUG - Received request: {"action": "login", "employee_id": "admin1", "password": "password1"}
2024-07-03 10:39:45,875 - root - DEBUG - Sending response: {"status": "success", "role": 1, "user_id": 1}
2024-07-03 10:44:50,464 - root - INFO - Server started on localhost:12346
2024-07-03 10:45:04,325 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 10:45:04,326 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 10:45:06,176 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 10:45:06,176 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 10:45:06,176 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 10:45:22,992 - root - DEBUG - Received request: {"action": "login", "employee_id": "admin1", "password": "password1"}
2024-07-03 10:45:22,992 - root - DEBUG - Sending response: {"status": "success", "role": 1, "user_id": 1}
2024-07-03 10:45:26,993 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 10:45:40,853 - root - DEBUG - Received request: {"action": "login", "employee_id": "admin1", "password": "password1"}
2024-07-03 10:45:40,855 - root - DEBUG - Sending response: {"status": "success", "role": 1, "user_id": 1}
2024-07-03 10:45:56,308 - root - DEBUG - Received request: {"action": "add_menu_item", "name": "Paneer", "price": 30.0, "availability": "yes", "role": 1}
2024-07-03 10:45:56,323 - root - DEBUG - Inserting notification for employee 3
2024-07-03 10:45:56,326 - root - DEBUG - Inserting notification for employee 4
2024-07-03 10:45:56,330 - root - DEBUG - Sending response: {"status": "success", "message": "Menu item added"}
2024-07-03 10:46:02,993 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 10:46:03,008 - root - DEBUG - Fetched notifications for user 3: [{'id': 27, 'user_id': 3, 'message': 'New menu item added: Paneer', 'viewed': 0}]
2024-07-03 10:46:03,009 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 10:46:03,018 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'timestamp': datetime.datetime(2024, 7, 3, 10, 1, 50)}, {'menu_item_id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'timestamp': datetime.datetime(2024, 7, 3, 10, 1, 50)}, {'menu_item_id': 3, 'name': 'Chicken Alfredo', 'price': Decimal('15.00'), 'timestamp': datetime.datetime(2024, 7, 3, 10, 1, 50)}]
2024-07-03 10:46:03,019 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 27, "user_id": 3, "message": "New menu item added: Paneer", "viewed": 0}], "rollout_items": [{"menu_item_id": 1, "name": "Spaghetti", "price": "12.00", "timestamp": "2024-07-03T10:01:50"}, {"menu_item_id": 2, "name": "Grilled Cheese", "price": "6.50", "timestamp": "2024-07-03T10:01:50"}, {"menu_item_id": 3, "name": "Chicken Alfredo", "price": "15.00", "timestamp": "2024-07-03T10:01:50"}]}
2024-07-03 10:46:37,114 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 12:24:06,011 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:24:06,023 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:24:11,020 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 12:24:29,607 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:24:29,609 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:24:47,056 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 12:24:47,065 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}, {'id': 9, 'name': 'Paneer', 'average_rating': Decimal('0.00'), 'sentiments': ''}]
2024-07-03 12:24:47,066 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}, {"id": 9, "name": "Paneer", "average_rating": "0.00", "sentiments": ""}]}
2024-07-03 12:25:03,519 - root - DEBUG - Received request: {"action": "get_recommendations", "role": 2}
2024-07-03 12:25:03,520 - root - DEBUG - Executing query: 
                SELECT mi.id, mi.name, mi.price, mi.average_rating, 
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'positive') as positive_feedback,
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'negative') as negative_feedback
                FROM menu_items mi
                ORDER BY mi.average_rating DESC, positive_feedback DESC, negative_feedback ASC
                LIMIT 5
            
2024-07-03 12:25:03,523 - root - DEBUG - Recommendations fetched: [{'id': 7, 'name': 'Veggie Burger', 'price': Decimal('10.00'), 'average_rating': Decimal('4.50'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'average_rating': Decimal('4.20'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'average_rating': Decimal('3.50'), 'positive_feedback': 0, 'negative_feedback': 2}, {'id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'average_rating': Decimal('2.70'), 'positive_feedback': 0, 'negative_feedback': 1}, {'id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'average_rating': Decimal('2.50'), 'positive_feedback': 1, 'negative_feedback': 0}]
2024-07-03 12:25:03,525 - root - DEBUG - Sending response: {"status": "success", "recommendations": [{"id": 7, "name": "Veggie Burger", "price": "10.00", "average_rating": "4.50", "positive_feedback": 0, "negative_feedback": 0}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "average_rating": "4.20", "positive_feedback": 0, "negative_feedback": 0}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "average_rating": "3.50", "positive_feedback": 0, "negative_feedback": 2}, {"id": 6, "name": "Fries", "price": "13.50", "average_rating": "2.70", "positive_feedback": 0, "negative_feedback": 1}, {"id": 1, "name": "Spaghetti", "price": "12.00", "average_rating": "2.50", "positive_feedback": 1, "negative_feedback": 0}]}
2024-07-03 12:25:25,815 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "very bad taste", "item_id": 1, "role": 2}
2024-07-03 12:25:25,817 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:25:25,817 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:26:05,541 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 12:26:05,543 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 12:26:21,903 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad", "item_id": 1, "role": 3}
2024-07-03 12:26:21,905 - root - ERROR - Error in submit_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:26:21,906 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to submit feedback"}
2024-07-03 12:33:00,872 - root - INFO - Server started on localhost:12346
2024-07-03 12:33:28,756 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:33:28,771 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:33:44,941 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "very bad in taste", "item_id": 1, "role": 2}
2024-07-03 12:33:44,941 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:33:44,941 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:40:05,277 - root - INFO - Server started on localhost:12346
2024-07-03 12:40:13,277 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:40:13,277 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:40:17,632 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 12:40:35,743 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:40:35,743 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:40:50,793 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "not tasty at all", "item_id": 1, "role": 2}
2024-07-03 12:40:50,793 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:40:50,793 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:44:46,494 - root - INFO - Server started on localhost:12346
2024-07-03 12:44:56,960 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:44:56,960 - root - ERROR - Error: 'FeedbackService' object has no attribute 'send_report'
2024-07-03 12:45:12,644 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:45:12,644 - root - ERROR - Error: 'FeedbackService' object has no attribute 'send_report'
2024-07-03 12:45:42,526 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:45:42,526 - root - ERROR - Error: 'FeedbackService' object has no attribute 'send_report'
2024-07-03 12:46:33,196 - root - INFO - Server started on localhost:12346
2024-07-03 12:46:41,010 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:46:41,010 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:46:44,847 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 12:46:56,561 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:46:56,561 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:47:09,161 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "not tasty at all", "item_id": 1, "role": 2}
2024-07-03 12:47:09,161 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:47:09,161 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:49:10,244 - root - INFO - Server started on localhost:12346
2024-07-03 12:49:21,095 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:49:21,111 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:49:29,277 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "not tasty at all", "item_id": 1, "role": 2}
2024-07-03 12:49:29,292 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:49:29,293 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:52:12,794 - root - INFO - Server started on localhost:12346
2024-07-03 12:52:18,326 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:52:18,326 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:52:21,951 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 12:52:35,043 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:52:35,043 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:52:43,994 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "not tasty", "item_id": 1, "role": 2}
2024-07-03 12:52:43,994 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:52:43,994 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:55:00,176 - root - INFO - Server started on localhost:12346
2024-07-03 12:55:14,021 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:55:14,021 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:55:24,320 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:55:24,320 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:55:27,848 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 12:55:43,139 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:55:43,139 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:55:52,759 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "not tasty", "item_id": 1, "role": 2}
2024-07-03 12:55:52,759 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:55:52,759 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 12:58:54,710 - root - INFO - Server started on localhost:12346
2024-07-03 12:59:07,676 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 12:59:07,693 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 12:59:19,462 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "noy tasty at all", "item_id": 1, "role": 2}
2024-07-03 12:59:19,463 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 12:59:19,464 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 14:11:55,158 - root - INFO - Server started on localhost:12346
2024-07-03 14:12:01,806 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 14:12:01,806 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 14:12:05,159 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 14:12:25,572 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 14:12:25,572 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 14:12:36,306 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "very bad in taste", "item_id": 1, "role": 2}
2024-07-03 14:12:36,306 - root - ERROR - Error in send_feedback: Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2024-07-03 14:12:36,306 - root - DEBUG - Sending response: {"status": "error", "message": "Failed to send feedback"}
2024-07-03 14:23:58,573 - root - INFO - Server started on localhost:12346
2024-07-03 14:24:47,656 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 14:24:47,656 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 14:25:03,924 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "not tasty", "item_id": 1, "role": 2}
2024-07-03 14:25:03,924 - root - DEBUG - Feedback details: user_id=2, comment=not tasty, sentiment=neutral, item_id=1
2024-07-03 14:25:03,972 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 14:25:03,978 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 14:25:03,979 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback sended"}
2024-07-03 14:32:56,474 - root - DEBUG - Received request: {"action": "view_menu"}
2024-07-03 14:32:56,477 - root - DEBUG - Sending response: {"status": "success", "menu": [{"id": 1, "name": "Spaghetti", "price": "12.00", "availability": "yes", "average_rating": "2.50"}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "availability": "yes", "average_rating": "4.20"}, {"id": 3, "name": "Chicken Alfredo", "price": "15.00", "availability": "no", "average_rating": "1.80"}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "availability": "yes", "average_rating": "3.50"}, {"id": 5, "name": "Tacos", "price": "9.00", "availability": "yes", "average_rating": "2.20"}, {"id": 6, "name": "Fries", "price": "13.50", "availability": "no", "average_rating": "2.70"}, {"id": 7, "name": "Veggie Burger", "price": "10.00", "availability": "yes", "average_rating": "4.50"}, {"id": 8, "name": "Fish and Chips", "price": "11.00", "availability": "yes", "average_rating": "1.90"}, {"id": 9, "name": "Paneer", "price": "30.00", "availability": "yes", "average_rating": "0.00"}]}
2024-07-03 14:33:01,873 - root - DEBUG - Received request: {"action": "get_recommendations", "role": 2}
2024-07-03 14:33:01,879 - root - DEBUG - Executing query: 
                SELECT mi.id, mi.name, mi.price, mi.average_rating, 
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'positive') as positive_feedback,
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'negative') as negative_feedback
                FROM menu_items mi
                ORDER BY mi.average_rating DESC, positive_feedback DESC, negative_feedback ASC
                LIMIT 5
            
2024-07-03 14:33:01,890 - root - DEBUG - Recommendations fetched: [{'id': 7, 'name': 'Veggie Burger', 'price': Decimal('10.00'), 'average_rating': Decimal('4.50'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'average_rating': Decimal('4.20'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'average_rating': Decimal('3.50'), 'positive_feedback': 0, 'negative_feedback': 2}, {'id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'average_rating': Decimal('2.70'), 'positive_feedback': 0, 'negative_feedback': 1}, {'id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'average_rating': Decimal('2.50'), 'positive_feedback': 1, 'negative_feedback': 0}]
2024-07-03 14:33:01,890 - root - DEBUG - Sending response: {"status": "success", "recommendations": [{"id": 7, "name": "Veggie Burger", "price": "10.00", "average_rating": "4.50", "positive_feedback": 0, "negative_feedback": 0}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "average_rating": "4.20", "positive_feedback": 0, "negative_feedback": 0}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "average_rating": "3.50", "positive_feedback": 0, "negative_feedback": 2}, {"id": 6, "name": "Fries", "price": "13.50", "average_rating": "2.70", "positive_feedback": 0, "negative_feedback": 1}, {"id": 1, "name": "Spaghetti", "price": "12.00", "average_rating": "2.50", "positive_feedback": 1, "negative_feedback": 0}]}
2024-07-03 14:33:06,654 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 3, 4], "user_id": 2, "role": 2}
2024-07-03 14:33:06,654 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 14:33:06,671 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 14:33:06.654047
2024-07-03 14:33:06,674 - root - DEBUG - Fetched price for menu_item_id 3: 15.00
2024-07-03 14:33:06,678 - root - DEBUG - Inserted rollout item: 3 by user: 2 with price: 15.00 at 2024-07-03 14:33:06.654047
2024-07-03 14:33:06,679 - root - DEBUG - Fetched price for menu_item_id 4: 8.00
2024-07-03 14:33:06,683 - root - DEBUG - Inserted rollout item: 4 by user: 2 with price: 8.00 at 2024-07-03 14:33:06.654047
2024-07-03 14:33:06,686 - root - DEBUG - Inserting notification for employee 3
2024-07-03 14:33:06,691 - root - DEBUG - Inserting notification for employee 4
2024-07-03 14:33:06,695 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 14:39:24,454 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 14:39:24,454 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 14:39:26,390 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 14:39:26,391 - root - DEBUG - Fetched notifications for user 3: [{'id': 29, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 14:39:26,394 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 14:39:26,403 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'timestamp': datetime.datetime(2024, 7, 3, 14, 33, 7)}, {'menu_item_id': 3, 'name': 'Chicken Alfredo', 'price': Decimal('15.00'), 'timestamp': datetime.datetime(2024, 7, 3, 14, 33, 7)}, {'menu_item_id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'timestamp': datetime.datetime(2024, 7, 3, 14, 33, 7)}]
2024-07-03 14:39:26,404 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 29, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 1, "name": "Spaghetti", "price": "12.00", "timestamp": "2024-07-03T14:33:07"}, {"menu_item_id": 3, "name": "Chicken Alfredo", "price": "15.00", "timestamp": "2024-07-03T14:33:07"}, {"menu_item_id": 4, "name": "Caesar Salad", "price": "8.00", "timestamp": "2024-07-03T14:33:07"}]}
2024-07-03 14:39:46,701 - root - DEBUG - Received request: {"action": "vote_for_menu_item", "dish_id": 1, "meal_type": "breakfast", "user_id": 3, "role": 3}
2024-07-03 14:39:46,722 - root - DEBUG - Sending response: {"status": "success", "message": "Vote submitted"}
2024-07-03 14:43:57,224 - root - DEBUG - Received request: {"action": "view_vote_counts"}
2024-07-03 14:43:57,224 - root - DEBUG - Executing query: 
                SELECT mi.name, v.meal_type, COUNT(v.id) as vote_count
                FROM votes v
                JOIN menu_items mi ON v.menu_item_id = mi.id
                JOIN rollout_items ri ON ri.menu_item_id = mi.id
                WHERE DATE(v.voted_at) = %s AND DATE(ri.timestamp) = %s AND ri.chosen = TRUE
                GROUP BY mi.name, v.meal_type
             with date 2024-07-03
2024-07-03 14:43:57,240 - root - DEBUG - Vote counts fetched: [{'name': 'Spaghetti', 'meal_type': 'breakfast', 'vote_count': 12}]
2024-07-03 14:43:57,241 - root - DEBUG - Sending response: {"status": "success", "vote_counts": [{"name": "Spaghetti", "meal_type": "breakfast", "vote_count": 12}]}
2024-07-03 14:44:18,039 - root - DEBUG - Received request: {"action": "vote_for_menu_item", "dish_id": 4, "meal_type": "lunch", "user_id": 3, "role": 3}
2024-07-03 14:44:18,057 - root - DEBUG - Sending response: {"status": "success", "message": "Vote submitted"}
2024-07-03 14:44:26,226 - root - DEBUG - Received request: {"action": "view_vote_counts"}
2024-07-03 14:44:26,226 - root - DEBUG - Executing query: 
                SELECT mi.name, v.meal_type, COUNT(v.id) as vote_count
                FROM votes v
                JOIN menu_items mi ON v.menu_item_id = mi.id
                JOIN rollout_items ri ON ri.menu_item_id = mi.id
                WHERE DATE(v.voted_at) = %s AND DATE(ri.timestamp) = %s AND ri.chosen = TRUE
                GROUP BY mi.name, v.meal_type
             with date 2024-07-03
2024-07-03 14:44:26,226 - root - DEBUG - Vote counts fetched: [{'name': 'Spaghetti', 'meal_type': 'breakfast', 'vote_count': 12}, {'name': 'Caesar Salad', 'meal_type': 'lunch', 'vote_count': 4}]
2024-07-03 14:44:26,226 - root - DEBUG - Sending response: {"status": "success", "vote_counts": [{"name": "Spaghetti", "meal_type": "breakfast", "vote_count": 12}, {"name": "Caesar Salad", "meal_type": "lunch", "vote_count": 4}]}
2024-07-03 14:45:15,506 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in taste", "item_id": 1, "role": 3}
2024-07-03 14:45:15,506 - root - DEBUG - Feedback details: user_id=3, comment=very bad in taste, sentiment=negative, item_id=1
2024-07-03 14:45:15,506 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 14:45:15,518 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 14:45:15,518 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 14:45:34,666 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "really bad in taste", "item_id": 1, "role": 3}
2024-07-03 14:45:34,666 - root - DEBUG - Feedback details: user_id=3, comment=really bad in taste, sentiment=negative, item_id=1
2024-07-03 14:45:34,673 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 14:45:34,675 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 14:45:34,676 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 14:45:52,574 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "too salty", "item_id": 1, "role": 3}
2024-07-03 14:45:52,574 - root - DEBUG - Feedback details: user_id=3, comment=too salty, sentiment=neutral, item_id=1
2024-07-03 14:45:52,574 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 14:45:52,583 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 14:45:52,583 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 14:46:04,106 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 14:46:04,121 - root - DEBUG - Discard list: [{'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}, {'id': 9, 'name': 'Paneer', 'average_rating': Decimal('0.00'), 'sentiments': ''}]
2024-07-03 14:46:04,122 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}, {"id": 9, "name": "Paneer", "average_rating": "0.00", "sentiments": ""}]}
2024-07-03 14:49:10,002 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 14:49:10,487 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 16:39:18,934 - root - INFO - Server started on localhost:12346
2024-07-03 16:39:50,077 - root - DEBUG - Received request: {"action": "login", "employee_id": "admin1", "password": "password2"}
2024-07-03 16:39:50,084 - root - DEBUG - Sending response: {"status": "error", "message": "Invalid credentials"}
2024-07-03 16:40:05,057 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 16:40:05,063 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 16:40:09,692 - root - DEBUG - Received request: {"action": "view_vote_counts"}
2024-07-03 16:40:09,692 - root - DEBUG - Executing query: 
                SELECT mi.name, v.meal_type, COUNT(v.id) as vote_count
                FROM votes v
                JOIN menu_items mi ON v.menu_item_id = mi.id
                JOIN rollout_items ri ON ri.menu_item_id = mi.id
                WHERE DATE(v.voted_at) = %s AND DATE(ri.timestamp) = %s AND ri.chosen = TRUE
                GROUP BY mi.name, v.meal_type
             with date 2024-07-03
2024-07-03 16:40:09,710 - root - DEBUG - Vote counts fetched: [{'name': 'Spaghetti', 'meal_type': 'breakfast', 'vote_count': 12}, {'name': 'Caesar Salad', 'meal_type': 'lunch', 'vote_count': 4}]
2024-07-03 16:40:09,710 - root - DEBUG - Sending response: {"status": "success", "vote_counts": [{"name": "Spaghetti", "meal_type": "breakfast", "vote_count": 12}, {"name": "Caesar Salad", "meal_type": "lunch", "vote_count": 4}]}
2024-07-03 16:40:34,602 - root - DEBUG - Received request: {"action": "send_feedback", "user_id": 2, "comment": "very bad food", "item_id": 1, "role": 2}
2024-07-03 16:40:34,602 - root - DEBUG - Feedback details: user_id=2, comment=very bad food, sentiment=negative, item_id=1
2024-07-03 16:40:34,614 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 16:40:34,622 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 16:40:34,622 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback sended"}
2024-07-03 16:44:47,184 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 16:44:47,184 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 16:44:57,503 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:44:57,503 - root - DEBUG - Feedback details: user_id=3, comment=very bad in tatse, sentiment=negative, item_id=1
2024-07-03 16:44:57,523 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 16:44:57,526 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 16:44:57,527 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:45:13,107 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:45:13,107 - root - DEBUG - Feedback details: user_id=3, comment=very bad in tatse, sentiment=negative, item_id=1
2024-07-03 16:45:13,124 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 16:45:13,126 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 16:45:13,126 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:45:18,342 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:45:18,342 - root - DEBUG - Feedback details: user_id=3, comment=very bad in tatse, sentiment=negative, item_id=1
2024-07-03 16:45:18,362 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 16:45:18,364 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 16:45:18,364 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:45:21,918 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:45:21,918 - root - DEBUG - Feedback details: user_id=3, comment=very bad in tatse, sentiment=negative, item_id=1
2024-07-03 16:45:21,918 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 16:45:21,927 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 16:45:21,927 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:45:23,981 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:45:23,981 - root - DEBUG - Feedback details: user_id=3, comment=very bad in tatse, sentiment=negative, item_id=1
2024-07-03 16:45:23,986 - root - DEBUG - Feedback inserted successfully for item_id=1
2024-07-03 16:45:23,990 - root - ERROR - Error in update_average_rating: tuple indices must be integers or slices, not str
2024-07-03 16:45:23,990 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:45:49,975 - root - DEBUG - Received request: {"action": "view_menu"}
2024-07-03 16:45:49,986 - root - DEBUG - Sending response: {"status": "success", "menu": [{"id": 1, "name": "Spaghetti", "price": "12.00", "availability": "yes", "average_rating": "2.50"}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "availability": "yes", "average_rating": "4.20"}, {"id": 3, "name": "Chicken Alfredo", "price": "15.00", "availability": "no", "average_rating": "1.80"}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "availability": "yes", "average_rating": "3.50"}, {"id": 5, "name": "Tacos", "price": "9.00", "availability": "yes", "average_rating": "2.20"}, {"id": 6, "name": "Fries", "price": "13.50", "availability": "no", "average_rating": "2.70"}, {"id": 7, "name": "Veggie Burger", "price": "10.00", "availability": "yes", "average_rating": "4.50"}, {"id": 8, "name": "Fish and Chips", "price": "11.00", "availability": "yes", "average_rating": "1.90"}, {"id": 9, "name": "Paneer", "price": "30.00", "availability": "yes", "average_rating": "0.00"}]}
2024-07-03 16:46:04,048 - root - DEBUG - Received request: {"action": "get_recommendations", "role": 2}
2024-07-03 16:46:04,048 - root - DEBUG - Executing query: 
                SELECT mi.id, mi.name, mi.price, mi.average_rating, 
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'positive') as positive_feedback,
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'negative') as negative_feedback
                FROM menu_items mi
                ORDER BY mi.average_rating DESC, positive_feedback DESC, negative_feedback ASC
                LIMIT 5
            
2024-07-03 16:46:04,048 - root - DEBUG - Recommendations fetched: [{'id': 7, 'name': 'Veggie Burger', 'price': Decimal('10.00'), 'average_rating': Decimal('4.50'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'average_rating': Decimal('4.20'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'average_rating': Decimal('3.50'), 'positive_feedback': 0, 'negative_feedback': 2}, {'id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'average_rating': Decimal('2.70'), 'positive_feedback': 0, 'negative_feedback': 1}, {'id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'average_rating': Decimal('2.50'), 'positive_feedback': 1, 'negative_feedback': 8}]
2024-07-03 16:46:04,048 - root - DEBUG - Sending response: {"status": "success", "recommendations": [{"id": 7, "name": "Veggie Burger", "price": "10.00", "average_rating": "4.50", "positive_feedback": 0, "negative_feedback": 0}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "average_rating": "4.20", "positive_feedback": 0, "negative_feedback": 0}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "average_rating": "3.50", "positive_feedback": 0, "negative_feedback": 2}, {"id": 6, "name": "Fries", "price": "13.50", "average_rating": "2.70", "positive_feedback": 0, "negative_feedback": 1}, {"id": 1, "name": "Spaghetti", "price": "12.00", "average_rating": "2.50", "positive_feedback": 1, "negative_feedback": 8}]}
2024-07-03 16:49:06,717 - root - INFO - Server started on localhost:12346
2024-07-03 16:49:22,050 - root - DEBUG - Received request: {"action": "login", "employee_id": "employee1", "password": "password3"}
2024-07-03 16:49:22,050 - root - DEBUG - Sending response: {"status": "success", "role": 3, "user_id": 3}
2024-07-03 16:49:32,586 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:49:32,586 - root - DEBUG - Analyzing feedback: user_id=3, comment='very bad in tatse', sentiment='negative', item_id=1
2024-07-03 16:49:32,602 - root - DEBUG - Feedback counts for item_id 1: [{'sentiment': 'positive', 'count': 1}, {'sentiment': 'neutral', 'count': 2}, {'sentiment': 'negative', 'count': 9}]
2024-07-03 16:49:32,602 - root - DEBUG - Computed average rating for menu_item_id 1: 1.6666666666666667
2024-07-03 16:49:32,620 - root - DEBUG - Updated average rating for menu_item_id 1 to 1.6666666666666667
2024-07-03 16:49:32,621 - root - DEBUG - Inserted feedback for menu_item_id 1: very bad in tatse
2024-07-03 16:49:32,621 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:49:38,592 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:49:38,592 - root - DEBUG - Analyzing feedback: user_id=3, comment='very bad in tatse', sentiment='negative', item_id=1
2024-07-03 16:49:38,608 - root - DEBUG - Feedback counts for item_id 1: [{'sentiment': 'positive', 'count': 1}, {'sentiment': 'neutral', 'count': 2}, {'sentiment': 'negative', 'count': 10}]
2024-07-03 16:49:38,608 - root - DEBUG - Computed average rating for menu_item_id 1: 1.6153846153846154
2024-07-03 16:49:38,608 - root - DEBUG - Updated average rating for menu_item_id 1 to 1.6153846153846154
2024-07-03 16:49:38,608 - root - DEBUG - Inserted feedback for menu_item_id 1: very bad in tatse
2024-07-03 16:49:38,608 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:49:41,189 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:49:41,189 - root - DEBUG - Analyzing feedback: user_id=3, comment='very bad in tatse', sentiment='negative', item_id=1
2024-07-03 16:49:41,204 - root - DEBUG - Feedback counts for item_id 1: [{'sentiment': 'positive', 'count': 1}, {'sentiment': 'neutral', 'count': 2}, {'sentiment': 'negative', 'count': 11}]
2024-07-03 16:49:41,204 - root - DEBUG - Computed average rating for menu_item_id 1: 1.5714285714285714
2024-07-03 16:49:41,209 - root - DEBUG - Updated average rating for menu_item_id 1 to 1.5714285714285714
2024-07-03 16:49:41,209 - root - DEBUG - Inserted feedback for menu_item_id 1: very bad in tatse
2024-07-03 16:49:41,209 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:49:43,741 - root - DEBUG - Received request: {"action": "submit_feedback", "user_id": 3, "comment": "very bad in tatse", "item_id": 1, "role": 3}
2024-07-03 16:49:43,741 - root - DEBUG - Analyzing feedback: user_id=3, comment='very bad in tatse', sentiment='negative', item_id=1
2024-07-03 16:49:43,747 - root - DEBUG - Feedback counts for item_id 1: [{'sentiment': 'positive', 'count': 1}, {'sentiment': 'neutral', 'count': 2}, {'sentiment': 'negative', 'count': 12}]
2024-07-03 16:49:43,747 - root - DEBUG - Computed average rating for menu_item_id 1: 1.5333333333333334
2024-07-03 16:49:43,761 - root - DEBUG - Updated average rating for menu_item_id 1 to 1.5333333333333334
2024-07-03 16:49:43,761 - root - DEBUG - Inserted feedback for menu_item_id 1: very bad in tatse
2024-07-03 16:49:43,761 - root - DEBUG - Sending response: {"status": "success", "message": "Feedback submited"}
2024-07-03 16:50:08,936 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 16:50:08,936 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 16:50:13,209 - root - ERROR - Error: [WinError 10054] An existing connection was forcibly closed by the remote host
2024-07-03 16:50:32,364 - root - DEBUG - Received request: {"action": "login", "employee_id": "chef1", "password": "password2"}
2024-07-03 16:50:32,364 - root - DEBUG - Sending response: {"status": "success", "role": 2, "user_id": 2}
2024-07-03 16:50:36,006 - root - DEBUG - Received request: {"action": "get_recommendations", "role": 2}
2024-07-03 16:50:36,006 - root - DEBUG - Executing query: 
                SELECT mi.id, mi.name, mi.price, mi.average_rating, 
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'positive') as positive_feedback,
                       (SELECT COUNT(*) FROM feedback f WHERE f.menu_item_id = mi.id AND f.sentiment = 'negative') as negative_feedback
                FROM menu_items mi
                ORDER BY mi.average_rating DESC, positive_feedback DESC, negative_feedback ASC
                LIMIT 5
            
2024-07-03 16:50:36,021 - root - DEBUG - Recommendations fetched: [{'id': 7, 'name': 'Veggie Burger', 'price': Decimal('10.00'), 'average_rating': Decimal('4.50'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 2, 'name': 'Grilled Cheese', 'price': Decimal('6.50'), 'average_rating': Decimal('4.20'), 'positive_feedback': 0, 'negative_feedback': 0}, {'id': 4, 'name': 'Caesar Salad', 'price': Decimal('8.00'), 'average_rating': Decimal('3.50'), 'positive_feedback': 0, 'negative_feedback': 2}, {'id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'average_rating': Decimal('2.70'), 'positive_feedback': 0, 'negative_feedback': 1}, {'id': 5, 'name': 'Tacos', 'price': Decimal('9.00'), 'average_rating': Decimal('2.20'), 'positive_feedback': 0, 'negative_feedback': 1}]
2024-07-03 16:50:36,021 - root - DEBUG - Sending response: {"status": "success", "recommendations": [{"id": 7, "name": "Veggie Burger", "price": "10.00", "average_rating": "4.50", "positive_feedback": 0, "negative_feedback": 0}, {"id": 2, "name": "Grilled Cheese", "price": "6.50", "average_rating": "4.20", "positive_feedback": 0, "negative_feedback": 0}, {"id": 4, "name": "Caesar Salad", "price": "8.00", "average_rating": "3.50", "positive_feedback": 0, "negative_feedback": 2}, {"id": 6, "name": "Fries", "price": "13.50", "average_rating": "2.70", "positive_feedback": 0, "negative_feedback": 1}, {"id": 5, "name": "Tacos", "price": "9.00", "average_rating": "2.20", "positive_feedback": 0, "negative_feedback": 1}]}
2024-07-03 16:50:40,286 - root - DEBUG - Received request: {"action": "view_discard_list"}
2024-07-03 16:50:40,297 - root - DEBUG - Discard list: [{'id': 1, 'name': 'Spaghetti', 'average_rating': Decimal('1.53'), 'sentiments': 'bad'}, {'id': 3, 'name': 'Chicken Alfredo', 'average_rating': Decimal('1.80'), 'sentiments': ''}, {'id': 8, 'name': 'Fish and Chips', 'average_rating': Decimal('1.90'), 'sentiments': ''}, {'id': 9, 'name': 'Paneer', 'average_rating': Decimal('0.00'), 'sentiments': ''}]
2024-07-03 16:50:40,300 - root - DEBUG - Sending response: {"status": "success", "discard_list": [{"id": 1, "name": "Spaghetti", "average_rating": "1.53", "sentiments": "bad"}, {"id": 3, "name": "Chicken Alfredo", "average_rating": "1.80", "sentiments": ""}, {"id": 8, "name": "Fish and Chips", "average_rating": "1.90", "sentiments": ""}, {"id": 9, "name": "Paneer", "average_rating": "0.00", "sentiments": ""}]}
2024-07-03 16:51:13,636 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 3, 5], "user_id": 2, "role": 2}
2024-07-03 16:51:13,636 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 16:51:13,636 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 16:51:13.636539
2024-07-03 16:51:13,636 - root - DEBUG - Fetched price for menu_item_id 3: 15.00
2024-07-03 16:51:13,651 - root - DEBUG - Inserted rollout item: 3 by user: 2 with price: 15.00 at 2024-07-03 16:51:13.636539
2024-07-03 16:51:13,652 - root - DEBUG - Fetched price for menu_item_id 5: 9.00
2024-07-03 16:51:13,658 - root - DEBUG - Inserted rollout item: 5 by user: 2 with price: 9.00 at 2024-07-03 16:51:13.636539
2024-07-03 16:51:13,659 - root - DEBUG - Inserting notification for employee 3
2024-07-03 16:51:13,664 - root - DEBUG - Inserting notification for employee 4
2024-07-03 16:51:13,668 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 16:51:22,080 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 16:51:22,097 - root - DEBUG - Fetched notifications for user 3: [{'id': 31, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 16:51:22,097 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 16:51:22,105 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'timestamp': datetime.datetime(2024, 7, 3, 16, 51, 14)}, {'menu_item_id': 3, 'name': 'Chicken Alfredo', 'price': Decimal('15.00'), 'timestamp': datetime.datetime(2024, 7, 3, 16, 51, 14)}, {'menu_item_id': 5, 'name': 'Tacos', 'price': Decimal('9.00'), 'timestamp': datetime.datetime(2024, 7, 3, 16, 51, 14)}]
2024-07-03 16:51:22,106 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 31, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 1, "name": "Spaghetti", "price": "12.00", "timestamp": "2024-07-03T16:51:14"}, {"menu_item_id": 3, "name": "Chicken Alfredo", "price": "15.00", "timestamp": "2024-07-03T16:51:14"}, {"menu_item_id": 5, "name": "Tacos", "price": "9.00", "timestamp": "2024-07-03T16:51:14"}]}
2024-07-03 16:51:32,236 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 16:51:32,236 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 16:51:32,251 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 16:51:40,887 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 16:51:40,887 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 16:51:40,887 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
2024-07-03 16:51:53,135 - root - DEBUG - Received request: {"action": "choose_recommendations", "menu_item_ids": [1, 6, 7], "user_id": 2, "role": 2}
2024-07-03 16:51:53,135 - root - DEBUG - Fetched price for menu_item_id 1: 12.00
2024-07-03 16:51:53,153 - root - DEBUG - Inserted rollout item: 1 by user: 2 with price: 12.00 at 2024-07-03 16:51:53.135165
2024-07-03 16:51:53,154 - root - DEBUG - Fetched price for menu_item_id 6: 13.50
2024-07-03 16:51:53,159 - root - DEBUG - Inserted rollout item: 6 by user: 2 with price: 13.50 at 2024-07-03 16:51:53.135165
2024-07-03 16:51:53,162 - root - DEBUG - Fetched price for menu_item_id 7: 10.00
2024-07-03 16:51:53,165 - root - DEBUG - Inserted rollout item: 7 by user: 2 with price: 10.00 at 2024-07-03 16:51:53.135165
2024-07-03 16:51:53,167 - root - DEBUG - Inserting notification for employee 3
2024-07-03 16:51:53,168 - root - DEBUG - Inserting notification for employee 4
2024-07-03 16:51:53,171 - root - DEBUG - Sending response: {"status": "success", "message": "Recommendations chosen"}
2024-07-03 16:51:57,775 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 16:51:57,775 - root - DEBUG - Fetched notifications for user 3: [{'id': 33, 'user_id': 3, 'message': 'New rollout items available. Please vote for your preferred items.', 'viewed': 0}]
2024-07-03 16:51:57,798 - root - DEBUG - Marked notifications as viewed for user 3
2024-07-03 16:51:57,806 - root - DEBUG - Fetched rollout items: [{'menu_item_id': 1, 'name': 'Spaghetti', 'price': Decimal('12.00'), 'timestamp': datetime.datetime(2024, 7, 3, 16, 51, 53)}, {'menu_item_id': 6, 'name': 'Fries', 'price': Decimal('13.50'), 'timestamp': datetime.datetime(2024, 7, 3, 16, 51, 53)}, {'menu_item_id': 7, 'name': 'Veggie Burger', 'price': Decimal('10.00'), 'timestamp': datetime.datetime(2024, 7, 3, 16, 51, 53)}]
2024-07-03 16:51:57,806 - root - DEBUG - Sending response: {"status": "success", "notifications": [{"id": 33, "user_id": 3, "message": "New rollout items available. Please vote for your preferred items.", "viewed": 0}], "rollout_items": [{"menu_item_id": 1, "name": "Spaghetti", "price": "12.00", "timestamp": "2024-07-03T16:51:53"}, {"menu_item_id": 6, "name": "Fries", "price": "13.50", "timestamp": "2024-07-03T16:51:53"}, {"menu_item_id": 7, "name": "Veggie Burger", "price": "10.00", "timestamp": "2024-07-03T16:51:53"}]}
2024-07-03 16:52:00,363 - root - DEBUG - Received request: {"action": "view_notifications", "user_id": 3, "role": 3}
2024-07-03 16:52:00,363 - root - DEBUG - Fetched notifications for user 3: []
2024-07-03 16:52:00,363 - root - DEBUG - Sending response: {"status": "success", "notifications": [], "rollout_items": []}
